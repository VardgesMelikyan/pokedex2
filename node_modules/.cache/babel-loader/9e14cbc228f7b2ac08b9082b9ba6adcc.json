{"ast":null,"code":"import { Component } from 'react';\nexport default class PokeapiService extends Component {\n  constructor(...args) {\n    super(...args);\n    this._apiBase = 'http://pokeapi.salestock.net/api/v2';\n    this._imgBase = `https://img.pokemondb.net/artwork/large`;\n\n    this.getResourse = async url => {\n      let res = await fetch(`${this._apiBase}${url}`);\n\n      if (!res.ok) {\n        throw new Error(`Could not fetch ${this._apiBase}${url}, ${res.status}`);\n      }\n\n      return await res.json();\n    };\n\n    this.getAllPokemons = async () => {\n      let res = await this.getResourse(`/pokemon`);\n      return await res.results.map(this.getPokemon(pokemon.name));\n    };\n\n    this.getPokemon = async id => {\n      const pokemon = await this.getResourse(`/pokemon/${id}/`);\n      console.log(pokemon);\n      return this._transformPokemon(pokemon);\n    };\n\n    this._transformPokemon = pokemon => {\n      return {\n        id: this._extractId(pokemon.url),\n        name: pokemon.name,\n        img: this.getPokemonImage(pokemon.name)\n      };\n    };\n\n    this.getPokemonImage = name => {\n      return `${this._imgBase}/${name}.jpg`;\n    };\n  }\n\n  _extractId(item) {\n    const idRegExp = /\\/([0-9]*)\\/$/;\n    return item.match(idRegExp)[1];\n  }\n\n}","map":{"version":3,"sources":["/Users/vardges/Desktop/react projects/pokedex/src/services/PokeapiService.js"],"names":["Component","PokeapiService","_apiBase","_imgBase","getResourse","url","res","fetch","ok","Error","status","json","getAllPokemons","results","map","getPokemon","pokemon","name","id","console","log","_transformPokemon","_extractId","img","getPokemonImage","item","idRegExp","match"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,eAAe,MAAMC,cAAN,SAA6BD,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAClDE,QADkD,GACvC,qCADuC;AAAA,SAElDC,QAFkD,GAEtC,yCAFsC;;AAAA,SAGlDC,WAHkD,GAGpC,MAAOC,GAAP,IAAe;AACzB,UAAIC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKL,QAAS,GAAEG,GAAI,EAAxB,CAArB;;AACA,UAAI,CAACC,GAAG,CAACE,EAAT,EAAa;AACT,cAAM,IAAIC,KAAJ,CAAW,mBAAkB,KAAKP,QAAS,GAAEG,GAAI,KAAIC,GAAG,CAACI,MAAO,EAAhE,CAAN;AACH;;AACD,aAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb;AACH,KATiD;;AAAA,SAWlDC,cAXkD,GAWjC,YAAY;AACzB,UAAIN,GAAG,GAAG,MAAM,KAAKF,WAAL,CAAkB,UAAlB,CAAhB;AACA,aAAO,MAAME,GAAG,CAACO,OAAJ,CAAYC,GAAZ,CAAgB,KAAKC,UAAL,CAAgBC,OAAO,CAACC,IAAxB,CAAhB,CAAb;AACH,KAdiD;;AAAA,SAelDF,UAfkD,GAerC,MAAOG,EAAP,IAAc;AACvB,YAAMF,OAAO,GAAG,MAAM,KAAKZ,WAAL,CAAkB,YAAWc,EAAG,GAAhC,CAAtB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACA,aAAO,KAAKK,iBAAL,CAAuBL,OAAvB,CAAP;AACH,KAnBiD;;AAAA,SAwBlDK,iBAxBkD,GAwB7BL,OAAD,IAAa;AAC7B,aAAO;AACHE,QAAAA,EAAE,EAAE,KAAKI,UAAL,CAAgBN,OAAO,CAACX,GAAxB,CADD;AAEHY,QAAAA,IAAI,EAAED,OAAO,CAACC,IAFX;AAGHM,QAAAA,GAAG,EAAE,KAAKC,eAAL,CAAqBR,OAAO,CAACC,IAA7B;AAHF,OAAP;AAKH,KA9BiD;;AAAA,SA+BlDO,eA/BkD,GA+B/BP,IAAD,IAAU;AACxB,aAAQ,GAAE,KAAKd,QAAS,IAAGc,IAAK,MAAhC;AACH,KAjCiD;AAAA;;AAoBlDK,EAAAA,UAAU,CAACG,IAAD,EAAO;AACb,UAAMC,QAAQ,GAAG,eAAjB;AACA,WAAOD,IAAI,CAACE,KAAL,CAAWD,QAAX,EAAqB,CAArB,CAAP;AACH;;AAvBiD","sourcesContent":["import { Component } from 'react'\n\nexport default class PokeapiService extends Component {\n    _apiBase = 'http://pokeapi.salestock.net/api/v2';\n    _imgBase = `https://img.pokemondb.net/artwork/large`\n    getResourse = async (url) => {\n        let res = await fetch(`${this._apiBase}${url}`);\n        if (!res.ok) {\n            throw new Error(`Could not fetch ${this._apiBase}${url}, ${res.status}`)\n        }\n        return await res.json()\n    }\n\n    getAllPokemons = async () => {\n        let res = await this.getResourse(`/pokemon`);\n        return await res.results.map(this.getPokemon(pokemon.name));\n    }\n    getPokemon = async (id) => {\n        const pokemon = await this.getResourse(`/pokemon/${id}/`);\n        console.log(pokemon)\n        return this._transformPokemon(pokemon)\n    }\n    _extractId(item) {\n        const idRegExp = /\\/([0-9]*)\\/$/;\n        return item.match(idRegExp)[1]\n    }\n    _transformPokemon = (pokemon) => {\n        return {\n            id: this._extractId(pokemon.url),\n            name: pokemon.name,\n            img: this.getPokemonImage(pokemon.name)\n        }\n    }\n    getPokemonImage = (name) => {\n        return `${this._imgBase}/${name}.jpg`\n    }\n}\n"]},"metadata":{},"sourceType":"module"}